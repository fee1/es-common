# Match Query
## 查询语法格式
```text
普通查询
样例：
    GET index/_search
    {
      "query": {
        "match": {
          "FIELD": "TEXT"
        }
      }
    }
解释：
    index: 索引名称，必传
    query - match_all: 表查询所有，必传
    query - match: 查询匹配(会使用默认的分词器，中文将会分割每一个中文字符，英文以单词切割)，必传
    query - match - "FIELD": "TEXT":[
        FIELD: 查询的字段
        TEXT: 查询的内容
    ]

分页查询
样例：
    GET index/_search
    {
      "from": 0,
      "size": 2,
      "query": {
        "match": {
          "FIELD": "TEXT"
        }
      }
    }
解释：
    index: 索引名称，必传
    from: 分页参数起始页，非必传
    size: 数量，非必传
    query - match: 查询匹配(会使用默认的分词器，中文将会分割每一个中文字符，英文以单词切割)，必传
    query - match - "FIELD": "TEXT":[
        FIELD: 查询的字段
        TEXT: 查询的内容
    ]

```
## json形式查询
```text
GET twitter/_search
{
  "query": {
    "match": {
      "city": "北京"
    }
  }
}
```
## URL形式查询
```text
GET twitter/_search?q=city:"北京"
```
## 去除_score
```text
    假如_source对我们来说不重要我们可以使用如下查询方法去掉。
GET twitter/_search
{
  "query": {
    "bool": {
      "filter": [
        {
          "term": {
            "city.keyword": "北京"
          }
        }
      ]
    }
  }
}
```
## 使用 match query 时，默认的分词匹配查询是 OR
```text
更具分词后（分为：朝、阳、区、-、老、贾），能查出所有的结果：
GET twitter/_search
{
  "query": {
    "match": {
      "user": "朝阳区-老贾"
    }
  }
}
或者
GET twitter/_search
{
  "query": {
    "match": {
      "user": {
        "query": "朝阳区-老贾",
        "operator": "or"
      }
    }
  }
}

我们改成AND以后就只查user为朝阳区-老贾的结果：
GET twitter/_search
{
  "query": {
    "match": {
      "user": {
        "query": "朝阳区-老贾",
        "operator": "and"
      }
    }
  }
}

必须匹配成五个字符中的三个：
GET twitter/_search
{
  "query": {
    "match": {
      "user": {
        "query": "朝阳区-老贾",
        "operator": "or", 
        "minimum_should_match": 3
      }
    }
  }
}
```
## Ids query
```text
GET twitter/_search
{
  "query": {
    "ids": {"values": ["1", "2"]}
  }
}
```
## multi_match
```text
    特别指明一个专有的 field 来进行搜索，但是在很多的情况下，我们并胡知道是哪一个 field 含有这个关键词，那么在这种情况下，我们可以使用 
multi_match 来进行搜索。
GET twitter/_search
{
  "query": {
    "multi_match": {
      "query": "朝阳",
      "fields": [
        "user",
        "address^3",
        "message"
      ]
    }
  }
}
```